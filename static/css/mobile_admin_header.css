/* mobile_admin_header.css
   Mobile-only header adjustments to match the admin page layout on small viewports.
   This file is intentionally scoped to small screens only and should be included
   only on dashboard/panel templates (not on the public homepage). */

@media (max-width: 420px) {
  header .navbar {
    padding: 8px 0 !important;
    align-items: center !important;
    justify-content: flex-start !important;
  }

  /* Make the logo line up to the left and sit above the account actions */
  header .logo-container {
    position: static !important;
    transform: none !important;
    margin: 6px 0 8px 6px !important;
    display: flex !important;
    align-items: center !important;
    left: auto !important;
    top: auto !important;
    width: auto !important;
  }

  header .logo img {
    height: 40px !important;
    width: auto !important;
  }

  /* Keep auth/account controls to the right but as a normal flow element below/next to the logo */
  header .auth-buttons,
  header .account-menu-container,
  header .account-menu-trigger {
    position: static !important;
    transform: none !important;
    right: auto !important;
    margin: 0 8px 0 auto !important;
    display: flex !important;
    align-items: center !important;
  }

  /* Slight spacing so the account pill doesn't overlap content */
  header .account-menu-trigger { margin-right: 8px !important; }

  /* When JS applies inline mobile fallback, prefer the explicit static flow above.
     But keep the inline absolute position (if applied) with higher z-index so the menu remains clickable. */
  header .account-menu-container[style] {
    z-index: 1200 !important;
  }

  /* Ensure the account menu is positioned relative to its container on mobile
     so the dropdown appears under the trigger and does not overlap the sidebar. */
  header .account-menu-container {
    position: relative !important;
    top: auto !important;
    right: auto !important;
    margin: 0 !important;
  }

  header .account-menu {
    /* Use fixed positioning to keep the dropdown visible above sidebar and content */
    position: fixed !important;
    top: 76px !important; /* below the sticky header */
    right: 12px !important;
    left: auto !important;
    min-width: 200px !important;
    max-width: 86vw !important;
    z-index: 99999 !important;
    max-height: calc(100vh - 96px) !important;
    overflow: auto !important;
  }

  /* If the menu is shown via inline style (JS sets display:block), ensure it's fixed and visible
     This targets the common case where the script toggles `style="display: block"`. */
  header .account-menu[style*="display: block"] {
    position: fixed !important;
    top: 76px !important;
    right: 12px !important;
    left: auto !important;
    min-width: 200px !important;
    max-width: 86vw !important;
    z-index: 99999 !important;
    max-height: calc(100vh - 96px) !important;
    overflow: auto !important;
  }

  /* Content header spacing adjustments on mobile to match admin view */
  .content-header {
    padding-bottom: 12px !important;
    margin-bottom: 10px !important;
  }
}
